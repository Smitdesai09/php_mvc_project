
## 📁 Folder structure (give to everyone)

```
project/
│
├── index.php
├── config/
│   └── db.php
│
├── controllers/
│   ├── UserController.php      # handles login/logout
│   ├── AdminController.php     # admin CRUD for users
│   ├── AssignmentController.php# faculty+student assignment logic
│
├── models/
│   ├── User.php
│   └── Assignment.php
│
├── views/
│   ├── layout/
│   │   ├── header.php
│   │   └── footer.php
│   │
│   ├── users/
│   │   └── login.php
│   │
│   ├── assignments/
│   │   ├── list.php
│   │   └── view.php
│   │
│   └── admin/
│       └── users.php
│
└── public/
    └── assets/
        ├── css/
        │   └── style.css
        ├── js/
        └── uploads/
```

---

## ⚙️ index.php (router)

```php
<?php
$controller = $_GET['controller'] ?? 'user';
$action = $_GET['action'] ?? 'login';

$file = "controllers/" . ucfirst($controller) . "Controller.php";
if (!file_exists($file)) die("Controller not found");

require_once $file;

$class = ucfirst($controller) . "Controller";
$obj = new $class();

if (!method_exists($obj, $action)) die("Action not found");

$obj->$action();
?>
```

---

## ⚙️ config/db.php

```php
<?php
$host = "localhost";
$user = "root";
$pass = "";
$db = "assignment_tracker";

$conn = new mysqli($host, $user, $pass, $db);

if ($conn->connect_error) {
  die("DB connection failed: " . $conn->connect_error);
}
?>
```

---

## 🧩 controllers/UserController.php

```php
<?php
require_once "models/User.php";

class UserController {
    public function login() {
        if ($_SERVER['REQUEST_METHOD'] === 'POST') {
            $email = $_POST['email'];
            $password = $_POST['password'];

            $userModel = new User();
            $user = $userModel->verifyLogin($email, $password);

            if ($user) {
                session_start();
                $_SESSION['user'] = $user;
                if ($user['role'] == 'admin') {
                    header("Location: index.php?controller=admin&action=listUsers");
                } elseif ($user['role'] == 'faculty') {
                    header("Location: index.php?controller=assignment&action=listFaculty");
                } else {
                    header("Location: index.php?controller=assignment&action=listStudent");
                }
            } else {
                $error = "Invalid credentials";
                require "views/users/login.php";
            }
        } else {
            require "views/users/login.php";
        }
    }

    public function logout() {
        session_start();
        session_destroy();
        header("Location: index.php");
    }
}
?>
```

---

## 🧩 models/User.php

```php
<?php
require_once "config/db.php";

class User {
    public function verifyLogin($email, $password) {
        global $conn;
        $sql = "SELECT * FROM users WHERE email='$email' AND password='$password'";
        $res = $conn->query($sql);
        return $res->fetch_assoc();
    }

    public function getAll() {
        global $conn;
        $res = $conn->query("SELECT * FROM users");
        return $res->fetch_all(MYSQLI_ASSOC);
    }
}
?>
```

---

## 🧩 views/users/login.php

```php
<!DOCTYPE html>
<html>
<head>
  <title>Login</title>
  <link rel="stylesheet" href="public/assets/css/style.css">
</head>
<body>
<div class="login-container">
  <div class="left">Assignment Tracker</div>
  <div class="right">
    <form method="POST">
      <input type="text" name="email" placeholder="Email" required><br>
      <input type="password" name="password" placeholder="Password" required><br>
      <button type="submit">Login</button>
      <p><a href="#">Forgot Password?</a></p>
    </form>
    <p style="color:red;"><?= $error ?? '' ?></p>
  </div>
</div>
</body>
</html>
```

---

## 🧩 views/layout/header.php

```php
<?php session_start(); ?>
<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="public/assets/css/style.css">
</head>
<body>
<header>
  <h2>Assignment Tracker</h2>
  <div class="profile">
    <?= $_SESSION['user']['name'] ?? '' ?> |
    <a href="index.php?controller=user&action=logout">Logout</a>
  </div>
</header>
<main>
```

---

## 🧩 views/layout/footer.php

```php
</main>
<footer>
  <p>© 2025 Assignment Tracker | Team Members: You + 2</p>
</footer>
</body>
</html>
```

---

## 🧩 public/assets/css/style.css (minimal)

```css
body {font-family: Arial; margin:0;}
header, footer {background:#222; color:#fff; padding:10px;}
main {padding:20px;}
.login-container {display:flex; height:100vh;}
.left {flex:1; background:#007bff; color:#fff; display:flex; align-items:center; justify-content:center; font-size:24px;}
.right {flex:1; display:flex; flex-direction:column; justify-content:center; align-items:center;}
form input {margin:5px; padding:8px;}
```

---

### ✅ Work division

| Member   | Responsibility                                  | Controllers/Models/Views                                                              |
| -------- | ----------------------------------------------- | ------------------------------------------------------------------------------------- |
| You      | Setup (db.php, index.php, layout header/footer) | base + routing                                                                        |
| Member 1 | Auth + Admin                                    | `UserController`, `AdminController`, `User.php`, `views/users/*`, `views/admin/*`     |
| Member 2 | Student part                                    | add in `AssignmentController` → `listStudent`, `viewStudent`                          |
| Member 3 | Faculty part                                    | add in `AssignmentController` → `listFaculty`, `viewFaculty`, `add`, `edit`, `delete` |

---
